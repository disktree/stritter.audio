{{ define "main" }}
<article>
    <!--<h2>{{ .Title }}</h2>-->
	<div class="content">{{- .Content -}}</div>
    {{ range $project := where .Site.Pages "Type" "project" }}
        {{ if $project.Params.files }}
            {{ $project_name := $project.File.ContentBaseName }}
            <ol>
            {{ range $file := $project.Params.files }}
            <li>
                {{ $file_path := print .Site.BaseURL "/project/" $project_name "/" .file }}
                <h3>{{ .name }}</h3>
                <div>Project: <a href="{{ .Site.BaseURL }}/project/{{ $project_name }}">{{ $project.Title }}</a></div>
                <audio src="{{ .Site.BaseURL }}/project/{{ $project_name }}/{{ .file }}" controls></audio> 
            </li>
            {{ end }}
            </ol>
        {{ end }}
    {{ end }}

<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">
    <style>
        path {
            stroke: var(--fg);
            stroke-width:  3;
        }
    </style>
    <pattern id="pattern" width="1" height="30" patternUnits="userSpaceOnUse">
        <circle r="32"/>
        <path d="M0 15h1"/>
    </pattern>
    <filter id="filter">
        <feTurbulence type="fractalNoise" baseFrequency="0.02 0.008" numOctaves="3" result="n"/>
        <feDisplacementMap in="SourceGraphic" in2="n" xChannelSelector="R" scale="50"/>
    </filter>
    <rect x="-10%" y="-10%" width="120%" height="120%" fill="url(#pattern)" filter="url(#filter)"/>
</svg>


</article>
{{ end }}

